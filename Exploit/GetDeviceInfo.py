from pymobiledevice3 import usbmux
from pymobiledevice3.lockdown import create_using_usbmux

connected_devices = usbmux.list_devices()
if not connected_devices:
    print("No device connected!")
    print("Please connect your device and try again.")
    exit()

device = connected_devices[0]
service_provider = create_using_usbmux(serial=device.serial)

device_id = service_provider.get_value(key="ProductType")
device_model = service_provider.get_value(key="HardwareModel")
device_build = service_provider.get_value(key="BuildVersion")
device_version = service_provider.product_version

print("{" + f"\"DeviceID\":\"{device_id}\",\"DeviceModel\":\"{device_model}\",\"DeviceBuild\":\"{device_build}\",\"DeviceVersion\":\"{device_version}\"" + "}")